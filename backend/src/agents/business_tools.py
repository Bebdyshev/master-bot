"""
Specialized Business Tools for Master Education
Each tool handles specific business process according to admin workflows
"""
from langchain.tools import tool
from typing import Optional
import json
from datetime import datetime


# ========================================
# 1. üîÑ –í–û–ó–í–†–ê–¢ –°–†–ï–î–°–¢–í
# ========================================

@tool
def request_refund(reason: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£–∑–Ω–∞–ª –ü–û–î–†–û–ë–ù–£–Æ –ø—Ä–∏—á–∏–Ω—É –≤–æ–∑–≤—Ä–∞—Ç–∞
    2. –ó–∞–≤–µ—Ä–∏–ª –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–µ—à–∏–º
    3. –°–æ–±—Ä–∞–ª –≤—Å–µ –¥–µ—Ç–∞–ª–∏ —Å–∏—Ç—É–∞—Ü–∏–∏
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –£–∑–Ω–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –≤–æ–∑–≤—Ä–∞—Ç–∞
    - –ó–∞–≤–µ—Ä–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∏–º
    - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä. –¥–∏—Ä—É –∏ —Å–µ—Ä–≤–∏—Å –¥–∏—Ä—É
    
    Args:
        reason: –ü–û–î–†–û–ë–ù–ê–Ø –ø—Ä–∏—á–∏–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"REFUND-{abs(hash(reason + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "refund",
        "status": "open",
        "priority": "high",  # –í–æ–∑–≤—Ä–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤. –ü—Ä–∏—á–∏–Ω–∞: {reason}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "24 —á–∞—Å–∞",
        "assigned_to": "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∏ –°–µ—Ä–≤–∏—Å–Ω—ã–π –î–∏—Ä–µ–∫—Ç–æ—Ä",
        "category": "–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ú—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –í–∞—à –∑–∞–ø—Ä–æ—Å.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} –ø–µ—Ä–µ–¥–∞–Ω –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É –∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—É.\n"
                   f"–í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.\n\n"
                   f"–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤ —Ä–∞–∑–¥–µ–ª–µ '–ú–æ–∏ –ó–∞—è–≤–∫–∏'.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 2. ‚ùÑÔ∏è –ó–ê–ú–û–†–û–ó–ö–ê –û–ë–£–ß–ï–ù–ò–Ø
# ========================================

@tool
def request_freeze(duration_start: str, duration_end: str, reason: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –∑–∞–º–æ—Ä–æ–∑–∫—É –æ–±—É—á–µ–Ω–∏—è (–æ—Ç 1 –¥–æ 2 –º–µ—Å—è—Ü–µ–≤).
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£—Ç–æ—á–Ω–∏–ª —Ç–æ—á–Ω—ã–π —Å—Ä–æ–∫ –∑–∞–º–æ—Ä–æ–∑–∫–∏ (–¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞, –æ—Ç 1 –¥–æ 2 –º–µ—Å—è—Ü–µ–≤)
    2. –£–∑–Ω–∞–ª –ø—Ä–∏—á–∏–Ω—É –∑–∞–º–æ—Ä–æ–∑–∫–∏
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –î–∞—Ç—å –∑–∞–º–æ—Ä–æ–∑–∫—É –æ—Ç 1 –¥–æ 2 –º–µ—Å—è—Ü–µ–≤
    - –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å —É—á–∏—Ç–µ–ª–µ–π –∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ –æ –∑–∞–º–æ—Ä–æ–∑–∫–µ
    - –ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –ó–ê–ú–û–†–û–ó–ò–¢ –≤ –ê–ª—å—Ñ–∞–°–†–ú
    - –ü–æ–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü–µ
    
    Args:
        duration_start: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)
        duration_end: –î–∞—Ç–∞ –∫–æ–Ω—Ü–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)
        reason: –ü—Ä–∏—á–∏–Ω–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"FREEZE-{abs(hash(duration_start + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "freeze",
        "status": "open",
        "priority": "medium",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–º–æ—Ä–æ–∑–∫—É –æ–±—É—á–µ–Ω–∏—è —Å {duration_start} –ø–æ {duration_end}. –ü—Ä–∏—á–∏–Ω–∞: {reason}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "24 —á–∞—Å–∞",
        "freeze_start": duration_start,
        "freeze_end": duration_end,
        "actions_required": [
            "–û–ø–æ–≤–µ—Å—Ç–∏—Ç—å —É—á–∏—Ç–µ–ª–µ–π –∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤",
            "–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –ó–ê–ú–û–†–û–ó–ò–¢ –≤ –ê–ª—å—Ñ–∞–°–†–ú",
            "–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü—É"
        ],
        "category": "–ó–∞–º–æ—Ä–æ–∑–∫–∞ –æ–±—É—á–µ–Ω–∏—è"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–º–æ—Ä–æ–∑–∫—É –æ–±—É—á–µ–Ω–∏—è —Å {duration_start} –ø–æ {duration_end} –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:\n"
                   f"‚Ä¢ –£–≤–µ–¥–æ–º–∏—Ç —É—á–∏—Ç–µ–ª–µ–π –∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤\n"
                   f"‚Ä¢ –ò–∑–º–µ–Ω–∏—Ç —Å—Ç–∞—Ç—É—Å –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–∞ '–ó–ê–ú–û–†–û–ó–ò–¢'\n"
                   f"‚Ä¢ –û–±–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã\n\n"
                   f"–í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∑–∞–º–æ—Ä–æ–∑–∫–∏.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 3. ‚òÄÔ∏è –†–ê–ó–ú–û–†–û–ó–ö–ê (–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï –û–ë–£–ß–ï–ù–ò–Ø)
# ========================================

@tool
def request_unfreeze(preferred_date: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–º–æ—Ä–æ–∑–∫—É –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£—Ç–æ—á–Ω–∏–ª –∂–µ–ª–∞–µ–º—É—é –¥–∞—Ç—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è
    2. –ü—Ä–æ–∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –≥—Ä—É–ø–ø
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–ø–ø—ã
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤ = –æ—Å—Ç–∞—Ç–æ–∫ —É—Ä–æ–∫–æ–≤ –≤ –ê–ª—å—Ñ–∞ –°–†–ú
    - –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å –∫—É—Ä–∞—Ç–æ—Ä–∞ –∏ —É—á–∏—Ç–µ–ª—è –æ –Ω–æ–≤–æ–º —Å—Ç—É–¥–µ–Ω—Ç–µ
    - –ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–π, –¥–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
    - –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü—É
    
    Args:
        preferred_date: –ñ–µ–ª–∞–µ–º–∞—è –¥–∞—Ç–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"UNFREEZE-{abs(hash(preferred_date + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "unfreeze",
        "status": "open",
        "priority": "medium",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑–º–æ—Ä–æ–∑–∫—É –æ–±—É—á–µ–Ω–∏—è —Å {preferred_date}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "24 —á–∞—Å–∞",
        "unfreeze_date": preferred_date,
        "actions_required": [
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–ª—è —É—Ä–æ–≤–Ω—è —Å—Ç—É–¥–µ–Ω—Ç–∞",
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞—Ç–æ–∫ —É—Ä–æ–∫–æ–≤ –≤ –ê–ª—å—Ñ–∞ –°–†–ú",
            "–£–≤–µ–¥–æ–º–∏—Ç—å –∫—É—Ä–∞—Ç–æ—Ä–∞ –∏ —É—á–∏—Ç–µ–ª—è",
            "–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –ê–∫—Ç–∏–≤–Ω—ã–π",
            "–î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É –≤ CRM",
            "–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü—É"
        ],
        "category": "–†–∞–∑–º–æ—Ä–æ–∑–∫–∞ –æ–±—É—á–µ–Ω–∏—è"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑–º–æ—Ä–æ–∑–∫—É –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è —Å {preferred_date} –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:\n"
                   f"‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –≥—Ä—É–ø–ø –¥–ª—è –í–∞—à–µ–≥–æ —É—Ä–æ–≤–Ω—è\n"
                   f"‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —É—Ä–æ–∫–æ–≤\n"
                   f"‚Ä¢ –°–≤—è–∂–µ—Ç—Å—è —Å –í–∞–º–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≥—Ä—É–ø–ø\n\n"
                   f"‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –í—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—Ä–æ–∫–æ–≤, "
                   f"—Å–æ–≥–ª–∞—Å–Ω–æ –¥–∞–Ω–Ω—ã–º –≤ CRM.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 4. üéÅ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –ë–û–ù–£–°–û–í
# ========================================

@tool
def use_bonus(bonus_type: str, details: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£—Ç–æ—á–Ω–∏–ª –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –±–æ–Ω—É—Å —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç
    2. –°–æ–±—Ä–∞–ª –¥–µ—Ç–∞–ª–∏ (–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∏ —Ç.–¥.)
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ë–æ–Ω—É—Å–∞ –≤ –§–ò–• —Ç–∞–±–ª–∏—Ü–µ
    - –ï—Å–ª–∏ –Ω–µ—Ç - "–Ø —Å –í–∞–º–∏ —Å–≤—è–∂—É—Å—å"
    - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–æ–Ω—É—Å:
      a) –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è - –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—É—é –≥—Ä—É–ø–ø—É
      –±) –ê–π—Ç—Å - –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ/–¥–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
    
    Args:
        bonus_type: –¢–∏–ø –±–æ–Ω—É—Å–∞ (–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, –¥—Ä—É–≥–æ–µ)
        details: –î–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–∞
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"BONUS-{abs(hash(bonus_type + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "bonus",
        "status": "open",
        "priority": "low",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–∞: {bonus_type}. –î–µ—Ç–∞–ª–∏: {details}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "24 —á–∞—Å–∞",
        "bonus_type": bonus_type,
        "actions_required": [
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –±–æ–Ω—É—Å–∞ –≤ –§–ò–• —Ç–∞–±–ª–∏—Ü–µ",
            "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–æ–Ω—É—Å —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∏–ø—É",
            "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ–Ω—É—Å–∞"
        ],
        "category": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞—è–≤–∫–∞ –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –±–æ–Ω—É—Å–∞ '{bonus_type}' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:\n"
                   f"‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ –í–∞—à–µ–≥–æ –±–æ–Ω—É—Å–∞ –≤ —Å–∏—Å—Ç–µ–º–µ\n"
                   f"‚Ä¢ –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –±–æ–Ω—É—Å —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∏–ø—É\n"
                   f"‚Ä¢ –°–≤—è–∂–µ—Ç—Å—è —Å –í–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\n\n"
                   f"–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 5. üìö –°–ú–ï–ù–ê –ì–†–£–ü–ü–´ / –£–ß–ò–¢–ï–õ–Ø
# ========================================

@tool
def change_group_or_teacher(reason: str, preferences: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ —Å–º–µ–Ω—É –≥—Ä—É–ø–ø—ã –∏–ª–∏ —É—á–∏—Ç–µ–ª—è.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£–∑–Ω–∞–ª –ø—Ä–∏—á–∏–Ω—É —Å–º–µ–Ω—ã –≥—Ä—É–ø–ø—ã/—É—á–∏—Ç–µ–ª—è
    2. –£—Ç–æ—á–Ω–∏–ª –∂–µ–ª–∞–µ–º–æ–µ –≤—Ä–µ–º—è –∏ –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏
    3. –°–æ–±—Ä–∞–ª –≤—Å–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –°–í–û–ë–û–î–ù–´–ï –≥—Ä—É–ø–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–∏
    - –í –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã –¥–æ–±–∞–≤–ª—è–µ–º —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ–ø–µ—Ä. –¥–∏—Ä–∞
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤ –¥–æ–ª–∂–Ω–æ +/- —Å–æ–≤–ø–∞–¥–∞—Ç—å
    - –ü–æ–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∞–ª—å—Ñ–∞/—Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü–µ
    - –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å —É—á–∏—Ç–µ–ª–µ–π –∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤
    
    Args:
        reason: –ü—Ä–∏—á–∏–Ω–∞ —Å–º–µ–Ω—ã –≥—Ä—É–ø–ø—ã/—É—á–∏—Ç–µ–ª—è
        preferences: –ü–æ–∂–µ–ª–∞–Ω–∏—è (–≤—Ä–µ–º—è, –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ –∏ —Ç.–¥.)
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"CHANGE-{abs(hash(reason + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "group_change",
        "status": "open",
        "priority": "medium",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–º–µ–Ω—É –≥—Ä—É–ø–ø—ã/—É—á–∏—Ç–µ–ª—è. –ü—Ä–∏—á–∏–Ω–∞: {reason}. –ü–æ–∂–µ–ª–∞–Ω–∏—è: {preferences}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "48 —á–∞—Å–æ–≤",
        "reason": reason,
        "preferences": preferences,
        "actions_required": [
            "–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞",
            "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–ø–ø—ã",
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Ä–æ–∫–æ–≤",
            "–û–±–Ω–æ–≤–∏—Ç—å CRM –∏ —Ñ–∏–∫—Å. —Ç–∞–±–ª–∏—Ü—É",
            "–£–≤–µ–¥–æ–º–∏—Ç—å —É—á–∏—Ç–µ–ª–µ–π –∏ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤"
        ],
        "assigned_to": "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä",
        "category": "–°–º–µ–Ω–∞ –≥—Ä—É–ø–ø—ã/—É—á–∏—Ç–µ–ª—è"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞—è–≤–∫–∞ –Ω–∞ —Å–º–µ–Ω—É –≥—Ä—É–ø–ø—ã/—É—á–∏—Ç–µ–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–º.\n\n"
                   f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:\n"
                   f"‚Ä¢ –ü–æ–ª—É—á–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ\n"
                   f"‚Ä¢ –ü–æ–¥–±–µ—Ä–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≥—Ä—É–ø–ø\n"
                   f"‚Ä¢ –°–≤—è–∂–µ—Ç—Å—è —Å –í–∞–º–∏ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏\n\n"
                   f"–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 6. üîó –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–°–°–´–õ–ö–ò/–ü–õ–ê–¢–§–û–†–ú–ê)
# ========================================

@tool
def tech_issue_platform(issue_type: str, description: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Å—ã–ª–∫–∞–º–∏, –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π, –•–ë.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–π –±–∞–∑–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è:
    1. –ü—Ä–µ–¥–ª–æ–∂–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É
    2. –ï—Å–ª–∏ –•–ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–µ–¥–ª–æ–∂–∏ VPN –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å
    3. –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - —Å–æ–∑–¥–∞–≤–∞–π —Ç–∏–∫–µ—Ç
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ü–µ—Ä–µ—Å–ª–∞—Ç—å —Å—Å—ã–ª–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
    - –ï—Å–ª–∏ –•–ë - –≤–∫–ª—é—á–∏—Ç—å VPN –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å
    - –ü–∞—Ä–æ–ª–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –∫—É—Ä–∞—Ç–æ—Ä
    - –ó–≤–∞–π–¥ –∏–Ω–æ–≥–¥–∞ –≥–ª—é—á–∏—Ç - –≤–µ–∂–ª–∏–≤–æ —Å–∫–∞–∑–∞—Ç—å
    - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
    
    Args:
        issue_type: –¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã (—Å—Å—ã–ª–∫–∏, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –•–ë, –ø–∞—Ä–æ–ª–∏)
        description: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–∞/—Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"TECH-{abs(hash(description + student_id)) % 10000:04d}"
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    priority = "high" if "–Ω–µ –º–æ–≥—É –≤–æ–π—Ç–∏" in description.lower() or "–¥–æ—Å—Ç—É–ø" in description.lower() else "medium"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "technical_platform",
        "status": "open",
        "priority": priority,
        "description": f"–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ({issue_type}): {description}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "4 —á–∞—Å–∞" if priority == "high" else "12 —á–∞—Å–æ–≤",
        "issue_type": issue_type,
        "actions_required": [
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø —Å—Ç—É–¥–µ–Ω—Ç–∞",
            "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–µ —Å—Å—ã–ª–∫–∏",
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å/–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏",
            "–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞"
        ],
        "assigned_to": "–ö—É—Ä–∞—Ç–æ—Ä",
        "category": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã.\n\n"
                   f"–í–∞—à –∫—É—Ä–∞—Ç–æ—Ä:\n"
                   f"‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç –í–∞—à –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ\n"
                   f"‚Ä¢ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —Ä–∞–±–æ—á–∏–µ —Å—Å—ã–ª–∫–∏\n"
                   f"‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π\n"
                   f"‚Ä¢ –£–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n"
                   f"–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 7. üìú –°–ü–†–ê–í–ö–ê –û –ü–†–ò–°–£–¢–°–¢–í–ò–ò
# ========================================

@tool
def request_attendance_certificate(purpose: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ —Å–ø—Ä–∞–≤–∫—É –æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ –Ω–∞ –∫—É—Ä—Å–∞—Ö.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£—Ç–æ—á–Ω–∏–ª —Ü–µ–ª—å –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏
    2. –û–±—ä—è—Å–Ω–∏–ª –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞)
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ü–æ–ø—Ä–æ—Å–∏—Ç—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –≤ word —Ñ–æ—Ä–º–∞—Ç–µ
    - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –±—É—Ö–≥–∞–ª—Ç–µ—Ä—É
    - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –∫–ª–∏–µ–Ω—Ç—É
    
    Args:
        purpose: –¶–µ–ª—å –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏ (—Ä–∞–±–æ—Ç–∞, –≤–∏–∑–∞ –∏ —Ç.–¥.)
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"CERT-{abs(hash(purpose + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "certificate",
        "status": "open",
        "priority": "medium",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–ø—Ä–∞–≤–∫—É –æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ –Ω–∞ –∫—É—Ä—Å–∞—Ö. –¶–µ–ª—å: {purpose}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è",
        "purpose": purpose,
        "actions_required": [
            "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—É —à–∞–±–ª–æ–Ω –≤ Word",
            "–ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω",
            "–ü–µ—Ä–µ–¥–∞—Ç—å –±—É—Ö–≥–∞–ª—Ç–µ—Ä—É –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è",
            "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—É—é —Å–ø—Ä–∞–≤–∫—É —Å—Ç—É–¥–µ–Ω—Ç—É"
        ],
        "assigned_to": "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä",
        "category": "–°–ø—Ä–∞–≤–∫–∞ –æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–ø—Ä–∞–≤–∫—É –æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–ü—Ä–æ—Ü–µ—Å—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:\n"
                   f"1. –í—ã –ø–æ–ª—É—á–∏—Ç–µ —à–∞–±–ª–æ–Ω —Å–ø—Ä–∞–≤–∫–∏ –≤ Word —Ñ–æ—Ä–º–∞—Ç–µ\n"
                   f"2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ\n"
                   f"3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω –æ–±—Ä–∞—Ç–Ω–æ\n"
                   f"4. –ë—É—Ö–≥–∞–ª—Ç–µ—Ä –ø–æ–¥–ø–∏—à–µ—Ç —Å–ø—Ä–∞–≤–∫—É\n"
                   f"5. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—É—é —Å–ø—Ä–∞–≤–∫—É\n\n"
                   f"–û–∂–∏–¥–∞–µ–º—ã–π —Å—Ä–æ–∫: 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 8. üí∞ –ü–†–û–î–õ–ï–ù–ò–ï / –î–û–ö–£–ü–ö–ê –ö–£–†–°–û–í
# ========================================

@tool
def extend_or_purchase_course(request_type: str, details: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–∫—É–ø–∫—É –∫—É—Ä—Å–æ–≤.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£—Ç–æ—á–Ω–∏–ª —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–ø—Ä–æ–¥–∞–∂–∞)
    2. –°–æ–±—Ä–∞–ª –¥–µ—Ç–∞–ª–∏ (–∫–∞–∫–æ–π –∫—É—Ä—Å, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –∏ —Ç.–¥.)
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –ï—Å–ª–∏ –¥–æ–ø—Ä–æ–¥–∞–∂–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –†–û–ü-—É –ø–æ —à–∞–±–ª–æ–Ω—É
    - –ï—Å–ª–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—É –ø–æ —à–∞–±–ª–æ–Ω—É
    - –°–∫–∞–∑–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
    - –£–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Å –∫–ª–∏–µ–Ω—Ç–æ–º —Å–≤—è–∑–∞–ª–∏—Å—å
    
    Args:
        request_type: –¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞ (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–ø—Ä–æ–¥–∞–∂–∞)
        details: –î–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–∞ (–∫–∞–∫–æ–π –∫—É—Ä—Å, —Å—Ä–æ–∫ –∏ —Ç.–¥.)
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –†–û–ü –∏–ª–∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"EXTEND-{abs(hash(details + student_id)) % 10000:04d}"
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º—É –Ω–∞–∑–Ω–∞—á–∏—Ç—å
    assigned_to = "–†–û–ü (–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂)" if request_type == "–¥–æ–ø—Ä–æ–¥–∞–∂–∞" else "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "extension",
        "status": "open",
        "priority": "medium",
        "description": f"–ó–∞–ø—Ä–æ—Å –Ω–∞ {request_type} –∫—É—Ä—Å–æ–≤. –î–µ—Ç–∞–ª–∏: {details}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "24 —á–∞—Å–∞",
        "request_type": request_type,
        "details": details,
        "actions_required": [
            f"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ {assigned_to} –ø–æ —à–∞–±–ª–æ–Ω—É",
            "–°–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π",
            "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É",
            "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CRM"
        ],
        "assigned_to": assigned_to,
        "category": "–ü—Ä–æ–¥–ª–µ–Ω–∏–µ/–î–æ–∫—É–ø–∫–∞ –∫—É—Ä—Å–æ–≤"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ {request_type} –∫—É—Ä—Å–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã {assigned_to}.\n\n"
                   f"–° –í–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –¥–ª—è:\n"
                   f"‚Ä¢ –£—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∑–∞–ø—Ä–æ—Å–∞\n"
                   f"‚Ä¢ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–ø–ª–∞—Ç–µ\n"
                   f"‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π\n\n"
                   f"–û–∂–∏–¥–∞–π—Ç–µ –∑–≤–æ–Ω–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 9. ü§ù –ü–ê–†–¢–ù–ï–†–°–ö–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê
# ========================================

@tool
def partner_program_request(invitee_name: str, invitee_telegram: str, invitee_phone: str, student_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –°–æ–±—Ä–∞–ª –§–ò–û –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
    2. –ü–æ–ª—É—á–∏–ª Telegram –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
    3. –ü–æ–ª—É—á–∏–ª –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –°–ø—Ä–æ—Å–∏—Ç—å –§–ò–û, –¢–µ–ª–µ–≥—Ä–∞–º, –Ω–æ–º–µ—Ä –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
    - –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É –∏ —Å–ø—Ä–æ—Å–∏—Ç—å –æ—Ç –∫–æ–≥–æ –ø—Ä–∏—à–µ–ª
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ê–ª—å—Ñ–∞ –°–†–ú (–æ—Ç–∫—É–¥–∞ —É–∑–Ω–∞–ª)
    
    Args:
        invitee_name: –§–ò–û –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
        invitee_telegram: Telegram –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
        invitee_phone: –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
        student_id: ID —Å—Ç—É–¥–µ–Ω—Ç–∞-–ø–∞—Ä—Ç–Ω–µ—Ä–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    """
    student_id = str(student_id) if student_id else "unknown"
    ticket_id = f"PARTNER-{abs(hash(invitee_name + student_id)) % 10000:04d}"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "partner_program",
        "status": "open",
        "priority": "low",
        "description": f"–ó–∞–ø—Ä–æ—Å –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π: {invitee_name}",
        "student_id": student_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "48 —á–∞—Å–æ–≤",
        "invitee_name": invitee_name,
        "invitee_telegram": invitee_telegram,
        "invitee_phone": invitee_phone,
        "actions_required": [
            "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–º",
            "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ (–æ—Ç –∫–æ–≥–æ –ø—Ä–∏—à–µ–ª)",
            "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ê–ª—å—Ñ–∞ –°–†–ú",
            "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–æ–Ω—É—Å –ø–∞—Ä—Ç–Ω–µ—Ä—É –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏"
        ],
        "category": "–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –ó–∞–ø—Ä–æ—Å –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.\n\n"
                   f"–¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω.\n\n"
                   f"–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ:\n"
                   f"‚Ä¢ –§–ò–û: {invitee_name}\n"
                   f"‚Ä¢ Telegram: {invitee_telegram}\n"
                   f"‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω: {invitee_phone}\n\n"
                   f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:\n"
                   f"‚Ä¢ –°–≤—è–∂–µ—Ç—Å—è —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–º –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\n"
                   f"‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ CRM\n"
                   f"‚Ä¢ –ù–∞—á–∏—Å–ª–∏—Ç –í–∞–º –±–æ–Ω—É—Å –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏\n\n"
                   f"–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# ========================================
# 10. üö® –ü–†–û–ë–õ–ï–ú–´ –°–û–¢–†–£–î–ù–ò–ö–û–í (–û–ë–©–ò–ô –¢–ò–ü)
# ========================================

@tool
def staff_issue(issue_description: str, staff_id: str) -> str:
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.
    
    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –ü–û–°–õ–ï —Ç–æ–≥–æ, –∫–∞–∫:
    1. –£–∑–Ω–∞–ª —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –¥–µ—Ç–∞–ª—å–Ω–æ
    2. –°–æ–±—Ä–∞–ª –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    
    –ü—Ä–æ—Ü–µ—Å—Å (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ):
    - –£–∑–Ω–∞—Ç—å —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
    - –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É
    
    Args:
        issue_description: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
        staff_id: ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    
    Returns:
        JSON —Å —Ç–∏–∫–µ—Ç–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è
    """
    staff_id = str(staff_id) if staff_id else "unknown"
    ticket_id = f"STAFF-{abs(hash(issue_description + staff_id)) % 10000:04d}"
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
    priority = "high"
    if any(word in issue_description.lower() for word in ["—Å—Ä–æ—á–Ω–æ", "–∫—Ä–∏—Ç–∏—á–Ω–æ", "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"]):
        priority = "high"
    elif any(word in issue_description.lower() for word in ["–≤–æ–ø—Ä–æ—Å", "—É—Ç–æ—á–Ω–∏—Ç—å"]):
        priority = "low"
    else:
        priority = "medium"
    
    ticket_data = {
        "ticket_id": ticket_id,
        "type": "staff_issue",
        "status": "open",
        "priority": priority,
        "description": f"–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: {issue_description}",
        "staff_id": staff_id,
        "created_at": datetime.now().isoformat(),
        "estimated_response": "4 —á–∞—Å–∞" if priority == "high" else "24 —á–∞—Å–∞",
        "actions_required": [
            "–ò–∑—É—á–∏—Ç—å —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã",
            "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ",
            "–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É",
            "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ"
        ],
        "assigned_to": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä/–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å",
        "category": "–ü—Ä–æ–±–ª–µ–º—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
    }
    
    return json.dumps({
        "success": True,
        "message": f"‚úÖ –¢–∏–∫–µ—Ç #{ticket_id} —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –í–∞—à–µ–π –ø—Ä–æ–±–ª–µ–º—ã.\n\n"
                   f"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {priority.upper()}\n\n"
                   f"–í–∞—à–∞ –ø—Ä–æ–±–ª–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.\n"
                   f"–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.\n\n"
                   f"–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤ —Å–∏—Å—Ç–µ–º–µ.",
        "ticket": ticket_data
    }, ensure_ascii=False)


# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∏–∑–Ω–µ—Å-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
BUSINESS_TOOLS = [
    request_refund,
    request_freeze,
    request_unfreeze,
    use_bonus,
    change_group_or_teacher,
    tech_issue_platform,
    request_attendance_certificate,
    extend_or_purchase_course,
    partner_program_request,
    staff_issue,
]
